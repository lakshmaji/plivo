# Laravel - plivo
[docs on web](http://lakshmajim.github.io/plivo/)
>##WHAT IT IS?

- This package is used to send sms to any mobile number.
- This uses [Plivo!](https://www.plivo.com/) API.
- It requires *AuthId* and *AuthToken*, they can be generated by registrting @at [Plivo](https://manage.plivo.com/dashboard/)
  - after registrion click on Dashboard ,there you will be able to see authid and authtoken. 
  - sample snapshot:
![Image of plivo dashboard](https://raw.githubusercontent.com/lakshmajim/images/master/plivo.png)


>### Version

1.1.0

>### Compatibility

**Laravel version**     | **Plivo version**
-------- | ---
5.4    | -
5.2    | -
5.1    | -
5.0    | -
4.2    | 1.1.0



>##INSTALLATION

 - This package is available on packagist , you can install this package issuing the following command from the terminal
 	``` composer require lakshmajim/plivo ```

>##Laravel INTEGRATION

you need to add the service provider. Open `app/config/app.php`, and add a new item to the providers array.
```php
 lakshmajim\plivo\PlivoServiceProvider::class,
```

We need to publish the configuration file
 ``` php artisan config:publish --path="vendor/lakshmajim/plivo/src/config" lakshmajim/plivo  ```

In the plivo.php configuration file we need to enter the Plivo API key and ID

>##SENDING SMS

```php
<?php

Use Plivo;

$params = array(
	'src' => '1111111111',
	'dst' => '91999999999',
	'text' => 'Hello world!'
);

Plivo::sendSMS($params);
```
>##Sent SMS history

```php
<?php

Use Plivo;

// Lists all messages history
$list_all_messages = Plivo::allMessages();

// Lists the filtered messages (pagination)
$params = array(
	'limit' => 2,
	'offset' => 2,
	'message_direction' => 'inbound',
	'message_state' => 'delivered',
);
$list_some_messages = Plivo::allMessages($params);
```

>##Get Message data

```php
<?php

Use Plivo;

// Lists all messages history
$list_all_messages = Plivo::allMessages();

// Lists the filtered messages (pagination)
$params = array(
	'limit' => 2,
	'offset' => 2,
	'message_direction' => 'inbound',
	'message_state' => 'delivered',
);
$list_some_messages = Plivo::allMessages($params);
```

>##MISCELLANEOUS

```php
<?php

  Use Plivo;

  $params = array(
	  'country_iso' => 'IN'
  );
  
  // List the pricing plans available in a country by using country ISO code
  Plivo::pricing($params);
```


>##EXAMPLE CODE FOR Laravel

```php

<?php 
// Define namespace
namespace App\Http\Controllers;

// Include required namespaces
use Illuminate\Routing\Controller as BaseController;
use Plivo;

class Controller extends BaseController
{
    public function sendSMS()
    {
		$params = array(
			'src' => '1111111111',
			'dst' => '91999999999',
			'text' => 'Hello world!'
		);
		
		$response = Plivo::sendSMS($params);
		
}


```

>##LICENSE

[MIT](https://opensource.org/licenses/MIT)

